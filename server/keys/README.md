# Сервис ключей планирования

- Слушает изменения всех баз `Couchdb` тех `Абонентов`, которых обслуживает proxy
- При записи-изменении `Расчёта` в статусе `Отправлен` и выше, создаёт ключи и `Штрихкоды` на собственно заказ, все его продукции и все фрагменты продукций (слои, профили, заполнения, элементы состава заполнений)
- Может создавать-пересчитывать ключи принудительно (по post-запросу) (не реализовано)
- Излучает feed, который могут использовать подписчики (например, сервис планирования) для выполнения своих расчётов
- Возвращает расшифровки двух видов (прямое и обратное кодирование):
  + По идентификатору заказа или продукции, формирует массив всех ключей, имеющих отношение к этому идентификатору
  + По идентификатору ключа или штрихкоду, отвечает на вопрос, к какому фрагменту, какого изделия, какого заказа, года и отдела абонента, относится ключ
